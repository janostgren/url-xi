{
    "testName": "Ticketmonster Get Event",
    "variables": [
        {
            "key": "eventId","type":"number","usage":"","value":1
        },
        {
            "key": "sections","type":"number","usage":"inResponse","value":0
        },
        {
            "key": "capacity","type":"number","usage":"returnValue","value":0,"unit":"seats"
        },
        {
            "key": "venueName","type":"string","usage":"info","value":""
        }
    ],
    "baseUrl": "http://ticketmonster.apicasystem.com",
    "steps": [
        {
            "stepName": "Get Events",
            "request": {
                "method": "get",
                "path": "/ticket-monster/rest/events"
            },
            "extractors": [
                {"type":"jsonpath","expression":"$[*].id","variable":"eventId"}
            ]
        },
        {
            "stepName": "Get Shows",
            "request": {
                "method": "get",
                "path": "/ticket-monster/rest/shows?event={{eventId}}"
            },
            "extractors": [
                {"type":"jsonpath","expression":"$..venue.name","variable":"venueName"},
                {"type":"jsonpath","expression":"$..venue.capacity","variable":"capacity"},
                {"type":"jsonpath","expression":"$..venue.sections[*].id","variable":"sections","counter":true}
            ]
        }
    ]
}